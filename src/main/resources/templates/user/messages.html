<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <!--<meta name="_csrf" th:content="${_csrf.token}"/>-->
    <!--<meta name="_csrf_header" th:content="${_csrf.headerName}"/>-->
    <title>[[${loggedUser.firstName}]] [[${loggedUser.lastName}]] - GeekHub</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.min.js"></script>
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
          integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style.css}" href="../../static/css/style.css" type="text/css">
    <link rel="stylesheet" th:href="@{/css/messages.css}" href="../../static/css/messages.css" type="text/css">
</head>
<body>
<nav class="navbar navbar-expand-md navbar-dark bg-dark rounded-0 mb-0" id="navbar-main" onresize="navbarOnResizeFunc(event)">
    <div class="container-fluid">
        <!-- Brand -->
        <div class="navbar-header mx-auto d-sm-flex d-block flex-sm-nowrap">

            <div class="row">
                <div class="col-xs-7">
                    <a th:href="'id' + ${loggedUser.id}" class="navbar-brand">
                        <span style="color: white"><b>Geek </b></span>
                        <span style="color: black" class="logo-orange"><b>hub</b></span>
                    </a>
                </div>
                <div class=" col-xs-5 ">
                    <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#collapsibleNavbar"
                            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
                <!-- Toggler/collapsibe Button -->
            </div>

        </div>


        <!-- Collapsible content -->
        <div class="collapse navbar-collapse " id="collapsibleNavbar">
            <!--<a href="#" class="navbar-item">url</a>-->
            <div class="d-flex flex-row">
                <div class="p-2">
                    <ul class="navbar-nav ml-5px">
                        <li class="nav-item active">
                            <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/friends">Friends</a>
                        </li>
                        <form class="form-inline my-2 my-md-0 ml-auto search-input">
                            <input oninput="searchUser(event)" id="userNameSurname" class="form-control search-input"
                                   type="text" placeholder="Search" aria-label="Search">
                            <div class="top-50">
                                <div id="userSearchResultList" class="list-group"></div>
                            </div>
                        </form>
                    </ul>
                </div>
                <div class="ml-auto p-2">
                    <ul class="navbar-nav list-inline mr-5px">

                        <!--PROFILE DROPDOWN-->
                        <li class="my-auto">
                            <a class="nav-link dropdown-toggle" id="navbarUserDropdownMenuBtn" data-toggle="dropdown"
                               aria-haspopup="true" aria-expanded="true" style="padding: 0; cursor: pointer">
                                <img src="https://mdbootstrap.com/img/Photos/Avatars/avatar-2.jpg"
                                     class="rounded-circle"
                                     height="40px" alt="avatar image">
                            </a>
                            <!--DROPDOWN MENU-->
                            <div class="dropdown-menu dropdown-menu-right " aria-labelledby="navbarUserDropdownMenuBtn"
                                 style="margin-right: 10px">
                                <h6 class="dropdown-header">[[${loggedUser.firstName}]] [[${loggedUser.lastName}]]</h6>
                                <!--<a class="dropdown-item" href="#"><i class="fas fa-bell"></i> Action</a>-->
                                <!--<a class="dropdown-item" href="#"><i class="far fa-star"></i> Another action</a>-->
                                <a class="dropdown-item" href="#"><i class="fas fa-sliders-h"></i> Settings</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="/logout"><i class="fas fa-sign-out-alt"></i> Log out</a>
                            </div>
                        </li>
                        <!--/PROFILE-->

                        <!--MESSAGES-->
                        <li>
                            <!--th:href="@{/messages}"-->
                            <a class="nav-link dropdown-toggle" id="navbarMessageDropDownBtn" data-toggle="dropdown"
                               aria-haspopup="true" aria-expanded="true" >
                                1 <i class="fa fa-envelope mr-5px"></i>
                            </a>
                            <!--<div class="dropdown-menu dropdown-menu-right " aria-labelledby="navbarMessageDropDownBtn"-->
                                 <!--style="margin-right: 10px" id="dropdown-message-box">-->
                                <!--<div class="col-md-6" id="msg-nav-main-block">-->
                                    <!--<div id="nav-msg-block"></div>-->
                                    <!--<input type="" id="msg-nav" placeholder="msg">-->
                                    <!--<button id="nav-send-btn">Send</button>-->
                                <!--</div>-->
                            <!--</div>-->
                        </li>
                        <!--/MESSAGES-->

                        <!--FRIENDS-->
                        <li>
                            <a class="nav-link" th:href="@{/friends}">
                                5 <i class="fas fa-user mr-5px"></i>
                            </a>
                        </li>
                        <!--/FRIENDS-->
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>

<!--<input type="hidden" th:value="${userPage.id}" id="recipient-id">-->
<input type="hidden" th:value="${loggedUser.id}" id="logged-user-id">

<div class="container" id="content-main">
    <div class="row">
        <!--USERS MESSAGING LIST-->
        <div class="col-sm-3 px-0 block rounded-0" id="users-msg-block" style="max-height: 100vh; padding: 0; margin: 0">
            <div class="list-group px-0 mx-0 rounded-0 alert-light" id="conversation-container" style="overflow: auto; max-height: 100vh">
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                    <!--<p><b class="mx-2">User 1: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action active row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">Barack Obama: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 3: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 4: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 5: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 6: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 7: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 8: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 9: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 9: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 9: </b>Message 1</p>-->
                <!--</div>-->
                <!--<div class="list-group-item list-group-item-action row px-0 mx-0 rounded-0">-->
                     <!--<p><b class="mx-2">User 9: </b>Message 1</p>-->
                <!--</div>-->
            </div>
        </div>
        <!--USERS MESSAGING-->
        <div class="col-sm-9 mx-0 px-0 h-100" id="messaging-block">
            <div class="col-12 alert m-0 text-center alert-light rounded-0 py-auto" id="messages-header" style="max-height: 8vh">Barack Obama</div>
            <div class="list-group-item" style="overflow: auto; max-height: 92vh">
                <div id="messages-container">
                    <p class="alert alert-primary text-right rounded-left ml-4">Enrico Fermi (1901–1954) was an
                        Italian-American physicist who was awarded the 1938 Nobel Prize in Physics. </p>
                    <p class="alert alert-secondary text-left rounded-top mr-4">He created the world's first nuclear
                        reactor, Chicago Pile-1, and is one of 16 scientists who have elements named after them.</p>
                    <p class="alert alert-primary text-right rounded-left ml-4">One of the few physicists to excel in
                        both
                        theoretical and experimental work, he made significant contributions to quantum theory,
                        statistical
                        mechanics, and nuclear and particle physics. He helped formulate the Fermi–Dirac statistics for
                        particles that obey Wolfgang Pauli's exclusion principle, called "fermions".</p>
                    <p class="alert alert-secondary text-left rounded-right mr-4">His theory of beta decay correctly
                        predicted that a particle he named the "neutrino" would be emitted along with an electron,
                        satisfying the law of conservation of energy.</p>
                    <p class="alert alert-primary text-right rounded-left ml-4">He left Italy in 1938 to escape the
                        Italian
                        racial laws that affected his Jewish wife Laura, and emigrated to the United States.</p>
                    <p class="alert alert-primary text-right rounded-left ml-4">He worked on the Manhattan Project
                        during
                        World War II, but later opposed development of the hydrogen bomb on moral and technical
                        grounds.</p>
                    <p class="alert alert-secondary text-left rounded-right mr-4">Li was born on 2 November 1917 in Wu
                        County (now Suzhou), Jiangsu, China. </p>
                    <p class="alert alert-primary text-right rounded-left ml-4">She graduated from Wu Pen Girls' School
                        in
                        Shanghai and was admitted to Tsinghua University in 1935.</p>
                </div>
            </div>
            <div class="input-group mb-3" style="width: 40vw">
                <input type="text" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="basic-addon2">
                <div class="input-group-append">
                    <span class="input-group-text btn" id="basic-addon2">Send</span>
                </div>
            </div>
        </div>
    </div>
</div>


</body>
</html>
<script src="/js/userSearch.js"></script>
<script src="/js/friends.js"></script>
<script src="/js/ws-messages.js"></script>
<script src="/js/messages.js"></script>